<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./放大镜.css">
    <title>Document</title>
</head>
<body>
    <div class="box3">
        <div class="a1"></div>
        <div class="a2"></div>
        <div class="a3"></div>
    </div>
    <div class="box">
        <div class="small"></div>
    </div>
    <div class="box1"></div>
</body>
<script src="./jquery.min.js"></script>
<script>
 $('.box').mouseenter(function(){
     $('.small').stop(true,true).show();
     $('.box1').show();
    $('.box').mousemove(function(e){
        var left=e.clientX-$('.box').offset().left-100;
        var top=e.clientY-$('.box').offset().top-100;
        left=left<0?0:left;
        top=top<0?0:top;
        left=left>$('.box').width()-$('.small').width()?$('.box').width()-$('.small').width():left;
        top=top>$('.box').height()-$('.small').height()?$('.box').height()-$('.small').height():top;
        $('.small').css({top:top,left:left});
        var x=left/400 *800;
        var y=top/400* 800;
        $('.box1').css({
            'backgroundPositionX':-x,
            'backgroundPositionY':-y,
        })
    })
 })
 $('.box').mouseleave(function(){
     $('.small').animate({
         width:'100%',
         height:'100%',
         top:0,
         left:0
     },400,function(){
        $('.small').hide();
        $('.small').css({width:200,height:200})
     })
    
     $('.box1').hide();
    })
    $('.box3 >div').mouseenter(function(){
        $(this).css({'borderColor':'red'}).siblings().css({'borderColor':'transparent'});
        $('.box').css('backgroundImage',$(this).css('backgroundImage'));
        $('.box1').css('backgroundImage',$(this).css('backgroundImage'));
    })
</script>
</html>