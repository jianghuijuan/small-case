<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div class="container">
        <div class="demo clearfix">
            <div class="per">
                <img src="../9.23号/images/O1CN018Z9umY1peNN63crlU_!!3487895385.jpg_sum.jpg" width="180" height="240" alt="图片二" />
                <div class="title">aaa</div>
                <a href="javascript:void(0);" class="button orange addcart">加入购物车</a>
            </div>
            <div class="per">
                <img src="../9.23号/images/O1CN01e4hbfy1peNMriUIJR_!!3487895385.jpg_sum.jpg" width="180" height="240" alt="图片二" />
                <div class="title">bbb</div>
                <a href="javascript:void(0);" class="button orange addcart">加入购物车</a>
            </div>
        </div>
    </div>
    <div class="cart-sidebar">
        <div class="cart">
            <i id="icon-cart"></i>
            <span>购物车</span>
        </div>
    </div>
    <div id="tip">成功加入购物车！</div>
</body>
<script src="./jquery.min.js"></script>
<script src="https://github.com/amibug/fly"></script>
<script>
    $(function () {
        var offset = $("#icon-cart").offset();
        $(".addcart").click(function (event) {
            var img = $(this).parent().children('img').attr('src'); //获取当前点击图片链接
            var flyer = $('<img class="flyer-img" src="' + img + '">'); //抛物体对象
            flyer.fly({
                start: {
                    left: event.pageX,//抛物体起点横坐标
                    top: event.pageY //抛物体起点纵坐标
                },
                end: {
                    left: offset.left + 10,//抛物体终点横坐标
                    top: offset.top + 10, //抛物体终点纵坐标
                },
                onEnd: function () {
                    $("#tip").show().animate({ width: '200px' }, 300).fadeOut(500);////成功加入购物车动画效果
                    this.destory(); //销毁抛物体
                }
            });
        });
    });




    //fdg
    　

// $(window).resize(function() {
//     $('a[nctype="add_cart"]').click(function() {
//         flyToCart($(this));
//     });
// });
// function flyToCart($this) {
//     var rtoolbar_offset_left = $("#rtoolbar_cart").offset().left;
//     var rtoolbar_offset_top = $("#rtoolbar_cart").offset().top-$(document).scrollTop();
//    var img = $this.parents('.browse-goods:first').find('img:first').attr('src');
//    var data_gid = $this.attr('data-gid');
//    var flyer = $('<img class="u-flyer" src="'+img+'" style="z-index:999">');
//    flyer.fly({
//        start: {
//            left: $this.offset().left-450,
//            top: $this.offset().top-$(document).scrollTop()
//        },
//        end: {
//            left: rtoolbar_offset_left,
//            top: rtoolbar_offset_top,
//            width: 0,
//            height: 0
//        },
//        onEnd: function(){
//            addcart(data_gid,1,'');
//            flyer.remove();
//        }
//    });
// }
</script>

</html>